@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================== */
/*   Theme Design Tokens */
/* ===================== */
:root {
    /* Light */
    --bg: #eef2f6; /* 기존 #F8FAFC → 살짝 톤 다운 */
    --surface: #f6f8fb; /* 기존 #FFFFFF → 미색 톤 */
    --surface-2: #e9eef5; /* 카드/섹션 백 */
    --muted: #e6ebf3; /* 헤더/스티키 영역 */
    --border: #d3dce6; /* 라인 대비 조금 올리기 */
    --text: #1a2234; /* 진한 남회색(완전 블랙보다 부담 ↓) */
    --text-2: #364662;
    --text-muted: #5f6e85;
    --brand: #0ea5a7; /* 청록 톤 살짝 차분하게 */

    /* 배너 그라데이션 채도 낮추기 */
    --comp-banner-from: #7583f2; /* indigo-350 느낌 */
    --comp-banner-to: #d16ee7; /* fuchsia-450 느낌 */
    --comp-banner-text: #0d1320; /* 완전 흰색 대신 딥 네이비 텍스트 */
}
.dark {
    /* Dark */
    --bg: #0b1220;
    --surface: #111a2e;
    --surface-2: #0f1830;
    --muted: #0e1730;
    --border: rgba(255, 255, 255, 0.1);
    --text: #ffffff;
    --text-2: rgba(255, 255, 255, 0.85);
    --text-muted: rgba(255, 255, 255, 0.7);
    --brand: #00d1b2;
    --comp-banner-from: #4338ca; /* indigo-700 */
    --comp-banner-to: #7e22ce; /* purple-700 */
    --comp-banner-text: #ffffff;
}

/* Base */
html,
body {
    height: 100%;
}
body {
    background: var(--bg);
    color: var(--text);
}
::selection {
    background: color-mix(in lab, var(--brand), transparent 70%);
    color: var(--text);
}

/* ===================== */
/*   Utilities           */
/* ===================== */
@layer utilities {
    .text-app {
        color: var(--text);
    }
    .text-app-2 {
        color: var(--text-2);
    }
    .text-muted-app {
        color: var(--text-muted);
    }
    .bg-app {
        background-color: var(--bg);
    }
    .bg-surface {
        background-color: var(--surface);
    }
    .bg-surface-2 {
        background-color: var(--surface-2);
    }
    .bg-muted {
        background-color: var(--muted);
    }
    .border-app {
        border-color: var(--border);
    }
    .bg-elev-5 {
        background: color-mix(in lab, var(--text), transparent 95%);
    }
    .bg-elev-10 {
        background: color-mix(in lab, var(--text), transparent 90%);
    }
    .bg-elev-15 {
        background: color-mix(in lab, var(--text), transparent 85%);
    }

    /* ✅ 스크롤바 숨김 (가로 네비에 적용) */
    .no-scrollbar {
        -ms-overflow-style: none; /* IE/Edge */
        scrollbar-width: none; /* Firefox */
    }
    .no-scrollbar::-webkit-scrollbar {
        display: none; /* Chrome/Safari */
    }
}

/* ===================== */
/*   Components          */
/* ===================== */
@layer components {
    .comp-banner {
        /* 카드 모서리 안에서 깔끔하게 보이도록 */
        color: var(--comp-banner-text);
        background-image: linear-gradient(
            90deg,
            var(--comp-banner-from),
            var(--comp-banner-to)
        );
    }
    .card {
        @apply rounded-2xl border p-4 transition-colors;
        background: var(--surface);
        border-color: var(--border);
        color: var(--text);
    }

    /* ---------- Top nav pills ---------- */
    .nav-pill {
        display: inline-flex; /* ✅ 링크 높이/정렬 안정화 */
        align-items: center;
        gap: 0.25rem;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text);
        border-radius: 0.5rem;
        padding: 0.25rem 0.75rem; /* px-3 py-1 */
        font-size: 0.875rem; /* text-sm */
        transition:
            background-color 0.15s ease,
            color 0.15s ease,
            border-color 0.15s ease;
        -webkit-tap-highlight-color: transparent; /* ✅ iOS 터치 하이라이트 제거 */
    }
    .nav-pill:hover {
        background: color-mix(in oklab, var(--brand) 10%, transparent);
    }
    /* ✅ 활성 상태 – 확실한 대비 */
    .nav-pill.is-active,
    .nav-pill[aria-current="page"],
    .nav-pill[aria-selected="true"] {
        background: var(--brand);
        color: #fff !important;
        border-color: color-mix(in oklab, var(--brand) 40%, transparent);
    }
    /* ✅ 모든 링크 상태에서 색 강제 (visited 등 무시) */
    .nav-pill:link,
    .nav-pill:visited,
    .nav-pill:hover,
    .nav-pill:active {
        color: inherit !important;
        text-decoration: none;
    }
    .nav-pill.is-active:link,
    .nav-pill.is-active:visited,
    .nav-pill.is-active:hover,
    .nav-pill.is-active:active,
    .nav-pill[aria-current="page"]:link,
    .nav-pill[aria-current="page"]:visited,
    .nav-pill[aria-current="page"]:hover,
    .nav-pill[aria-current="page"]:active {
        color: #fff !important;
        text-decoration: none;
    }
    .nav-pill:focus-visible {
        outline: none;
        box-shadow: 0 0 0 2px color-mix(in oklab, var(--brand) 40%, transparent);
    }
    /* ❌ 클릭 압박감 스타일 제거(우측 버튼처럼 보일 수 있어 삭제)
  .nav-pill:active { transform: translateY(1px); }
  */

    /* 나머지 공통 컴포넌트들(필요시) */
    .pill {
        @apply inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-medium;
        background: var(--surface-2);
        border-color: var(--border);
        color: var(--text-2);
    }
    .chip {
        @apply inline-flex items-center gap-2 rounded-xl border px-3 py-2 text-sm;
        background: var(--muted);
        border-color: var(--border);
        color: var(--text-2);
    }
    .btn {
        @apply inline-flex items-center justify-center rounded-lg border px-3 py-2 text-sm transition-colors;
        background: var(--surface);
        border-color: var(--border);
        color: var(--text-2);
    }
    .btn:hover {
        background: var(--surface-2);
    }
    .btn:focus-visible {
        outline: none;
        box-shadow: 0 0 0 2px color-mix(in oklab, var(--brand) 40%, transparent);
    }
    .btn-primary {
        @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm;
        background: var(--brand);
        color: white;
    }
    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    .input {
        @apply rounded-xl px-3 py-2 text-sm outline-none;
        background: var(--muted);
        color: var(--text);
        border: 1px solid var(--border);
    }

    .table {
        @apply w-full text-sm;
    }
    .table thead {
        background: var(--surface-2);
        color: var(--text-2);
    }
    .table tbody {
        background: var(--surface);
    }
    .table tr:hover {
        background: color-mix(in lab, var(--text), transparent 95%);
    }
}

/* 전역 링크 색 */
a {
    color: var(--brand);
}
a:hover {
    filter: brightness(1.05);
}

/* ✅ 네비/세그/버튼 안 링크는 전역 링크색 상속 X */
a.nav-pill,
.nav-pill a,
a.btn,
.btn a {
    color: inherit !important;
    text-decoration: none;
}
